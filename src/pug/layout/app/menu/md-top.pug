- cls = 'p-3 mb-1 rounded-xl sm:rounded-lg transition duration-300 ease-in-out'
div(class=cls, :class="{'bg-purple-60 shadow-2xl': show_submenu, 'bg-transparent shadow-none': !show_submenu}", x-data="{show_submenu: false}")
    div(class="flex justify-between items-center")
        if page.link === menu.link
            span(class="flex justify-start items-center text-purple-20 cursor-default")
                include link/md-top
        else
            a(href=menu.link, class="flex justify-start items-center text-white hover:text-purple-20 focus:text-purple-20")
                include link/md-top

        if menu.children[0] !== undefined
            - cls = 'flex justify-center items-center flex-shrink-0 h-6 sm:h-4 w-6 sm:w-4 sm:p-1 text-white hover:text-purple-20 focus:text-purple-20 transition duration-500 ease-in-out transform'
            button(type="button", class=cls, :class="{'-rotate-90': show_submenu, 'rotate-90': !show_submenu}", @click="show_submenu = !show_submenu")
                - svg = {width: 8, height: 12, name: 'chevron'}
                include ../../../partials/routes/svg
        else if page.link !== menu.link
            a(href=menu.link, class="flex justify-center items-center flex-shrink-0 h-6 sm:h-4 w-6 sm:w-4 sm:p-1 text-white hover:text-purple-20 focus:text-purple-20")
                - svg = {width: 8, height: 12, name: 'chevron'}
                include ../../../partials/routes/svg

    if menu.children[0] !== undefined
        div(class="overflow-hidden", :class="{'max-h-full': show_submenu, 'max-h-none': !show_submenu}", x-cloak)
            each submenu in menu.children
                div(class="flex justify-between items-center h-8 sm:h-6 mt-4 ml-1 sm:ml-0 pl-10 sm:pl-8")
                    if page.link === submenu.link
                        span(class="font-medium text-lg sm:text-sm leading-snug mr-3 sm:mr-2 text-purple-20 cursor-default")
                            | #{submenu.text}
                    else
                        a(href=submenu.link, class="font-medium text-lg sm:text-sm leading-snug mr-3 sm:mr-2 text-white hover:text-purple-20 focus:text-purple-20")
                            | #{submenu.text}

                    if page.link !== submenu.link
                        a(href=submenu.link, class="flex justify-center items-center flex-shrink-0 h-6 sm:h-4 w-6 sm:w-4 sm:p-1 text-white hover:text-purple-20 focus:text-purple-20")
                            - svg = {width: 8, height: 12, name: 'chevron'}
                            include ../../../partials/routes/svg